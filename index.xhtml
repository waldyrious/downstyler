<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Downstyler: a tool to fight CSS bloat</title>
    <link rel="stylesheet" href="downstyler.css" />
    <style>
      body {
        text-align: center;
        hyphens: auto;
      }
      p:not([class]) {
        font-family: sans-serif;
      }
      .subtitle {
        color: grey;
        font-size: 1.3em;
        font-style: italic;
      }
      .bookmarklet {
        line-height: 2em;
      }
      .bookmarklet a {
        border: 1px solid silver;
        border-radius: 0.3em;
        background-color: #eee;
        padding: 0.3em;
        margin: 0.5em;
      }
      pre.highlight {
        text-align: left;
        margin-top: 1em;
        color: SteelBlue;
      }
      pre.highlight .str {
        color: Coral;
      }
    </style>
  </head>
  <body>
    <h1>Downstyler</h1>
    <p class="subtitle">
      A tool to fight CSS bloat.
    </p>
    <p>
      Learn more in the <a href="https://github.com/waldyrious/downstyler#readme">README</a>.
    </p>
    <h2>Usage</h2>
    <p>
      <strong class="bookmarklet">
        <a href="javascript:document.body.removeAttribute('background');
          for(ss of document.styleSheets){void(ss.disabled=true)}
          for(el of document.getElementsByTagName('*')){void(el.removeAttribute('style'));void(el.removeAttribute('bgColor'));}
          for(tb of document.getElementsByTagName('table')){tb.border=0}
          for(ft of document.getElementsByTagName('font')){for(at of ft.attributes){ft.removeAttribute(at.name);}}
          document.head.insertAdjacentHTML('beforeend',
            '&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;'+
              (window.location.protocol.startsWith('http')?window.location.protocol:'http:')+
              '//raw.githack.com/waldyrious/downstyler/master/downstyler.css'+
            '&quot; /&gt;'
          )">downstyle!</a>
      </strong>
    </p>
    <p>
      Just drag the link above to your browser's bookmarks toolbar.
      <br />
      You can then use it to instantly strip down the styling of any page on the web.
      <br />
      (Hint: click the link to try it on this page!)
    </p>
    <p>✻</p>
    <p>
      Alternative bookmarklets are available for a sans-serif mode,
      <br/>
      as well as a reading mode that emulates a "paper sheet" look:
    </p>
    <p>
      <strong class="bookmarklet">
        <a href="javascript:document.body.removeAttribute('background');
          for(ss of document.styleSheets){void(ss.disabled=true)}
          for(el of document.getElementsByTagName('*')){void(el.removeAttribute('style'));void(el.removeAttribute('bgColor'));}
          for(tb of document.getElementsByTagName('table')){tb.border=0}
          for(ft of document.getElementsByTagName('font')){for(at of ft.attributes){ft.removeAttribute(at.name);}}
          document.head.insertAdjacentHTML('beforeend',
            '&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;'+
              (window.location.protocol.startsWith('http')?window.location.protocol:'http:')+
              '//raw.githack.com/waldyrious/downstyler/master/downstyler.css'+
            '&quot; /&gt;'
          );
          document.head.insertAdjacentHTML('beforeend',
            '&lt;style&gt;
              body { font-family: sans-serif; font-weight: 300; }
            &lt;/style&gt;'
          )">downstyle (sans-serif)</a>
        <a href="javascript:document.body.removeAttribute('background');
          for(ss of document.styleSheets){void(ss.disabled=true)}
          for(el of document.getElementsByTagName('*')){void(el.removeAttribute('style'));void(el.removeAttribute('bgColor'));}
          for(tb of document.getElementsByTagName('table')){tb.border=0}
          for(ft of document.getElementsByTagName('font')){for(at of ft.attributes){ft.removeAttribute(at.name);}}
          document.head.insertAdjacentHTML('beforeend',
            '&lt;link rel=&quot;stylesheet&quot; href=&quot;'+
              (window.location.protocol.startsWith('http')?window.location.protocol:'http:')+
              '//raw.githack.com/waldyrious/downstyler/master/downstyler.css'+
            '&quot; /&gt;'
          );
          document.head.insertAdjacentHTML('beforeend',
            '&lt;style&gt;
              html { background: #ddd; }
              body {
                 background: linear-gradient( to right, #f9f9f9, #fff 10%, #fff 90%, #f9f9f9 100% );
                 filter: sepia(3%) saturate(85%) contrast(98%);
                 max-width: 40em; padding: 1em 5em; margin: 10px auto; border-radius: 3px; box-shadow: 0 0 7px -3px;
              }
              h1, h2, h3, h4, h5, h6 { text-align: initial; }
            &lt;/style&gt;'
          )">paperlike</a>
      </strong>
    </p>
    <p>✻</p>
    <p>
      Downstyler can also be used as a regular stylesheet.
      <br />
      Download
      <strong><a href="https://raw.githubusercontent.com/waldyrious/downstyler/master/downstyler.css">
        downstyler.css<!--
      --></a></strong>,
      or include the following code in your HTML<br />
      (courtesy of the <a href="https://raw.githack.com/">RawGitHack</a> service):
      <br />
      <pre class="highlight">&lt;link rel=<span class="str">"stylesheet"</span><br/><!--
      -->href=<span class="str">"https://raw.githack.com/waldyrious/downstyler/master/downstyler.css"</span> /&gt;</pre>
    </p>
    <h2>Demo</h2>
    <p>
      For a more comprehensive demonstration of how pages using Downstyler look like,
      <br/>
      compare <a href="comparisons/demo-raw.xhtml">this demo page using no styling at all</a>,
      with <a href="comparisons/demo-downstyler.xhtml">the same page using Downstyler</a>.
    </p>
    <h2>Keyword Bookmarklet</h2>
    <p>A little known feature of Firefox-based browsers is that <a href="https://support.mozilla.org/en-US/kb/bookmarks-firefox#w_how-to-use-keywords-with-bookmarks">they let you define keywords for bookmarks</a>. Typing such a keyword in the URL bar will then directly open the bookmark. You can use this to easily trigger Downstyler with keyboard-only input: just press <kbd>ctrl</kbd>+<kbd>l</kbd> and type whatever keyword you added to the bookmarklet. One possible downside of this approach is that it modifies the URL bar, but a quick <kbd>ctrl</kbd>+<kbd>l</kbd>, <kbd>ctrl</kbd>+<kbd>z</kbd>, <kbd>ctrl</kbd>+<kbd>z</kbd> can retrieve the previous URL if needed.</p>
  </body>
</html>
